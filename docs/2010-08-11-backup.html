---
layout: post
title: Linux BackUP
date: '2010-08-11T16:35:00.004+04:00'
author: Дмитрий К
tags: 
modified_time: '2010-08-11T16:49:32.632+04:00'
blogger_id: tag:blogger.com,1999:blog-3722882267608887154.post-7987770482487805732
blogger_orig_url: http://ubufang.blogspot.com/2010/08/backup.html
---

После предыдущих постов очень хочется получить систему такую, какой она была до манипуляций. Конечно можно вычистить конфиги, но все же. Бывают такие случаи когда это не помогает и проблемма лежит очень глубоко в корне. Что бы иметь возможность "отката" к какой либо точке состояния системы, мы должны сделать резервную копию это самом системы. Самы правильный вариант - заархивировать. Итак, преступим-с.<br /><br />1.Делаемся root'ом и переходим в корневую директорию:<br /><blockquote>sudo su<br />cd /</blockquote><br />2.Архивируем, то, что нам нужно. А что не нужно заносим под параметр <span style="font-style:italic;">--exclude</span><br /><blockquote><br />tar cvpzf sysbackup.tgz −−exclude=/proc −−exclude=/lost+found −−exclude=/sysbackup.tgz −−exclude=/mnt −−exclude=/sys --exclude=/home /<br /></blockquote><br /><span style="font-style:italic;">Как видно, я исключил домашнюю директорию из архива, делалось это потому как она у меня на отдельном разделе, да и размеры достаточно велики.</span><br /><br />Вот и все, архив готов, вы можете его перенести на внешний носитель или же так и оставить в корне. Если час "Ч" настанет, необходимо выполнить следующее:<br /><br /><span style="font-weight:bold;">При этом действии, если home у вас так же как и у меня находится на отдельном разделе лучше его отмонтировать.</span><br /><br /><blockquote><br />tar xvpzf sysbackup.tgz -C /</blockquote><br /><br />Этой командой будут перезаписаны все, указанные выше, файлы и система по состоянию вернется в к моменту создания архива.